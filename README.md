# AFI Application Form System

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∫–µ—Ç–∞–º–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–ª—É–∂–±–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

## üìä –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–¢–µ–∫—É—â–∏–π Sprint:** Sprint 2 ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω + –£–ª—É—á—à–µ–Ω–∏—è
**–°–ª–µ–¥—É—é—â–∏–π Sprint:** Sprint 3 (PDF Generation & Email)

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Å–ø—Ä–∏–Ω—Ç—ã:
- ‚úÖ **Sprint 0**: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ **Sprint 1**: Invitation Management System
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
  - Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏
  - [–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ SPRINT-1-SUMMARY.md](./SPRINT-1-SUMMARY.md)
- ‚úÖ **Sprint 2**: Questionnaire Form (5-step Wizard)
  - –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤–∞—è —Ñ–æ—Ä–º–∞ –∞–Ω–∫–µ—Ç—ã (5 —à–∞–≥–æ–≤)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–ø–∞—Å–ø–æ—Ä—Ç, –∞–¥—Ä–µ—Å–∞, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ)
  - Auto-save —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫)
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã (–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã)
  - [–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ SPRINT-2-SUMMARY.md](./SPRINT-2-SUMMARY.md)
- ‚úÖ **Sprint 2.1**: –£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–µ–∫—Ä—É—Ç–µ—Ä–∞
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π (–∞–∫—Ç–∏–≤–∞—Ü–∏—è/–∑–∞–∫—Ä—ã—Ç–∏–µ)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞–¥—Ä–µ—Å–æ–≤ –∏ –¥–∞—Ç –≤ –∞–Ω–∫–µ—Ç–µ

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**Backend**: NestJS + TypeScript + PostgreSQL + Redis
**Frontend**: Next.js + TypeScript + Tailwind CSS + shadcn/ui
**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: Docker + Gotenberg (PDF) + MinIO (—Ñ–∞–π–ª—ã) + MailHog (email)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Development)

1. **Backend:**
```bash
cd backend
npm install
npm run start:dev
```

2. **Frontend:**
```bash
cd frontend
npm install
npm run dev
```

> **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω–µ—à–Ω–∏–π PostgreSQL –Ω–∞ `185.244.219.128:5432`. –î–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ –∫–æ–¥–µ.

### –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ

**–¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏:**
- Email: `admin@afi.com` / Password: `admin123` (—Ä–æ–ª—å: Admin)
- Email: `recruiter@afi.com` / Password: `recruiter123` (—Ä–æ–ª—å: Recruiter)

### –ü—Ä–æ–¥–∞–∫—à–Ω (Production)

```bash
docker-compose up -d
```

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ URL

- **Frontend**: http://localhost:3000 (–∏–ª–∏ 3001 –µ—Å–ª–∏ 3000 –∑–∞–Ω—è—Ç)
- **Backend API**: http://localhost:5000
- **API Docs (Swagger)**: http://localhost:5000/api/docs
- **Database**: PostgreSQL –Ω–∞ `185.244.219.128:5432`
  - Database: `afi-application-form`
  - User: `afi_applicationform`
  - Password: `run123`

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Backend (.env)
```env
NODE_ENV=development
PORT=5000
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=afi_user
DB_PASSWORD=afi_pass
DB_DATABASE=afi_app
REDIS_HOST=localhost
REDIS_PORT=6379
JWT_SECRET=your-secret-key
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
GOTENBERG_URL=http://localhost:3001
```

### Frontend (.env.local)
```env
NEXT_PUBLIC_API_URL=http://localhost:5000/api/v1
```

## üì¶ –ú–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã

### Backend (NestJS)
- **Auth**: JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å —Ä–æ–ª—è–º–∏ (Admin, Recruiter, Security, Viewer)
- **Candidates**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏ –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å–∞–º–∏
- **Invitations**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏
- **Questionnaire**: 5-—à–∞–≥–æ–≤–∞—è –∞–Ω–∫–µ—Ç–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ auto-save
- **Email**: –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Nodemailer + Handlebars
- **Documents**: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (MinIO)
- **Security-Check**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –°–ë (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **Consents**: –°–æ–≥–ª–∞—Å–∏—è –∏ PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (Gotenberg)
- **Reports**: –û—Ç—á–µ—Ç—ã –∏ —ç–∫—Å–ø–æ—Ä—Ç (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

### Frontend (Next.js)
- **Dashboard**: –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ä–µ–∫—Ä—É—Ç–µ—Ä–æ–≤
- **Invitations UI**: –°–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º–∏
- **Questionnaire Wizard**: –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤–∞—è —Ñ–æ—Ä–º–∞ –∞–Ω–∫–µ—Ç—ã
- **UI Components**: shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Forms**: React Hook Form + Zod –≤–∞–ª–∏–¥–∞—Ü–∏—è
- **API Client**: Axios —Å JWT interceptors

## üîê –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- **Admin**: –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ
- **Recruiter**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏ –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º–∏
- **Security**: –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∫–µ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- **Viewer**: –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Backend
```bash
npm run start:dev      # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build          # –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run lint           # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
npm run test           # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```

### Frontend
```bash
npm run dev            # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build          # –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run start          # –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏–∏
npm run lint           # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
```

## üìä –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã:

**Sprint 0: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
- NestJS backend —Å –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- Next.js frontend —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–µ–∫–æ–º
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ë–∞–∑–æ–≤—ã–µ entity –∏ API

**Sprint 1: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å Handlebars —à–∞–±–ª–æ–Ω–∞–º–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ (pending ‚Üí sent ‚Üí opened ‚Üí completed)
- Dashboard –¥–ª—è —Ä–µ–∫—Ä—É—Ç–µ—Ä–æ–≤

**Sprint 2: –§–æ—Ä–º–∞ –∞–Ω–∫–µ—Ç—ã**
- 5-—à–∞–≥–æ–≤—ã–π wizard (–ö–æ–Ω—Ç–∞–∫—Ç—ã ‚Üí –ü–∞—Å–ø–æ—Ä—Ç ‚Üí –ê–¥—Ä–µ—Å ‚Üí –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ ‚Üí –°–æ–≥–ª–∞—Å–∏—è)
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å Zod schemas
- Auto-save –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ –æ–ø—ã—Ç–∞

**Sprint 2.1: UI/UX —É–ª—É—á—à–µ–Ω–∏—è**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ —Å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º–∏**: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
2. **–ê–Ω–∫–µ—Ç–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞**: –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤–∞—è —Ñ–æ—Ä–º–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –°–ë**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–ª—É–∂–±—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
4. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**: Drag & Drop –∑–∞–≥—Ä—É–∑–∫–∞ —Å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
5. **OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
6. **PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–≥–ª–∞—Å–∏–π —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π –¥–∞–Ω–Ω—ã—Ö
7. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è 1–°**: –ü–µ—Ä–µ–¥–∞—á–∞ –≥–æ—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —É—á–µ—Ç–Ω—É—é —Å–∏—Å—Ç–µ–º—É

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã —Å refresh –º–µ—Ö–∞–Ω–∏–∑–º–æ–º
- –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (RBAC)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –ê—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- CORS –∏ CSRF –∑–∞—â–∏—Ç–∞

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

- –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ Redis + BullMQ
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
- CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# Backend —Ç–µ—Å—Ç—ã
cd backend && npm test

# Frontend —Ç–µ—Å—Ç—ã
cd frontend && npm test

# E2E —Ç–µ—Å—Ç—ã
npm run test:e2e
```

## üìù API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5000/api/docs

## üêõ –û—Ç–ª–∞–¥–∫–∞

- **Backend –ª–æ–≥–∏**: `docker-compose logs backend`
- **Frontend –ª–æ–≥–∏**: `docker-compose logs frontend`
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ª—é–±–æ–π PostgreSQL –∫–ª–∏–µ–Ω—Ç
- **Email —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: MailHog UI –Ω–∞ –ø–æ—Ä—Ç—É 8025

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ CLAUDE.md –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issues –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.